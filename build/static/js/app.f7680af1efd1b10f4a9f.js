webpackJsonp([1],{127:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){return new u.default(function(e,n){h.default.getApi("checkLogin",{infoId:p,source:f}).then(function(n){if(console.log("getLogin res:",n),n&&0==n.code&&n.data){var t=n.data;t.islogin?e(t):v?(window.loginCallback=function(e){0==e?window.location.reload():WBAPP.goBack()},WBAPP.openMobileLogin("loginCallback")):location.href="//my.58.com/m/mobilebind?path="+m}}).catch(function(e){n(),console.log("getLogin error:",e)})})}function a(){if(v)window.bindCallback=function(e){WBAPP.toastMsg(e),window.location.reload()},WBAPP.bind("PHONE","bindCallback");else{var e="//my.58.com/m/mobilebind?path="+m;location.href=e}}function s(e){h.default.getApi("getCode",{phone:e}).then(function(e){e&&0==e.code||console.log("there is something wrong with the server:",e)}).catch(function(e){console.log("getCode error:",e)})}function l(e){var n=/^1[34578]\d{9}$/;return!!e.match(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.isValidPhone=n.getCode=n.bindPhone=n.getLoginStateAndLogin=void 0;var c=t(88),u=o(c),r=t(128),h=o(r),d=t(187),p=(0,d.getSearchParam)("infoId"),f=(0,d.getSearchParam)("source"),v=(0,d.getCookie)("os"),m=encodeURIComponent(location.href);n.getLoginStateAndLogin=i,n.bindPhone=a,n.getCode=s,n.isValidPhone=l},182:function(e,n,t){function o(e){t(440)}var i=t(180)(t(184),t(446),o,null,null);e.exports=i.exports},183:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(127);n.default={name:"phoneInput",props:{value:{type:Object}},computed:{isNumberEmpty:function(){return 0===this.value.phoneNumber.length},isDifferentPhone:function(){var e=this.value.phoneNumber;return 11===e.length&&e!=this.value.bindPhone&&e!=this.value.latePhone},codeBtnName:function(){var e=this;return this.timer>0?(setTimeout(function(){e.timer-=1},1e3),this.timer+"秒后重发"):"获取验证码"}},data:function(){return{code:"",timer:0}},methods:{clearNumber:function(){this.value.phoneNumber="",this.value.isNumberValid=!1,this.$refs.phoneInput.focus(),this.$emit("input",this.value)},handleInput:function(e){this.value.isNumberValid=(0,o.isValidPhone)(e.target.value),this.$emit("input",this.value)},checkIsDiffPhone:function(){return this.value.phoneNumber!==(this.value.bindPhone||this.value.latePhone)},getCode:function(){(0,o.isValidPhone)(this.value.phoneNumber)?((0,o.getCode)(this.value),this.timer=59):console.log("你输入的手机号码不合法")}}}},184:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(444),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=t(127);n.default={name:"app",computed:{},data:function(){return{phone:{isNumberValid:!0,phoneNumber:"",bindPhone:"",latePhone:""},isInApp:!1,infoId:null,source:null,loginInfo:null}},methods:{checkAndLogin:function(){var e=this;(0,a.getLoginStateAndLogin)().then(function(n){console.log(n),e.loginInfo=n,e.phone.bindPhone=n.phone,e.phone.latePhone=n.latePhone,e.checkAndBind()})},checkAndBind:function(){this.loginInfo.isbind?this.checkLatePhone():this.bindPhone()},bindPhone:function(){console.log("去绑定吧"),(0,a.bindPhone)()},checkLatePhone:function(){var e=this.loginInfo.latePhone?this.loginInfo.latePhone:this.loginInfo.phone;this.renderPhone(e)},renderPhone:function(e){this.phone.phoneNumber=e},callNow:function(){this.phone.isNumberValid&&(console.log("拨打电话"),console.log(this.phone.phoneNumber))}},components:{PhoneInput:i.default},created:function(){},mounted:function(){this.checkAndLogin()}}},185:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=t(87),a=o(i),s=t(182),l=o(s),c=t(86),u=o(c);a.default.config.productionTip=!1,a.default.use(u.default),new a.default({el:"#app",template:"<App/>",components:{App:l.default}})},187:function(e,n,t){"use strict";function o(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(n);return null!=t?t[2]:null}function i(e){for(var n="",t=document.cookie.split("; "),o=0;o<t.length;o++){var i=t[o].split("=");i[0]==e&&(n=decodeURIComponent(i[1]))}return n||null}Object.defineProperty(n,"__esModule",{value:!0}),n.getSearchParam=o,n.getCookie=i},439:function(e,n){},440:function(e,n){},444:function(e,n,t){function o(e){t(439)}var i=t(180)(t(183),t(445),o,null,null);e.exports=i.exports},445:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",{staticClass:"phone-input-container"},[t("div",{staticClass:"phone-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.value.phoneNumber,expression:"value.phoneNumber"}],ref:"phoneInput",class:{"is-font-18":e.isNumberEmpty},attrs:{type:"tel",maxlength:"11",name:"",placeholder:"请输入手机号码"},domProps:{value:e.value.phoneNumber},on:{input:[function(n){n.target.composing||(e.value.phoneNumber=n.target.value)},e.handleInput]}}),e._v(" "),t("i",{staticClass:"clear-btn",on:{click:e.clearNumber}})])]),e._v(" "),e.isDifferentPhone?t("div",{staticClass:"code"},[t("span",{staticClass:"left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",name:"",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(n){n.target.composing||(e.code=n.target.value)}}})]),e._v(" "),t("span",{staticClass:"right",class:{"is-gray":!this.value.isNumberValid},on:{click:e.getCode}},[e._v(e._s(e.codeBtnName))])]):e._e()])},staticRenderFns:[]}},446:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[e._m(0),e._v(" "),e._m(1),e._v(" "),t("phone-input",{model:{value:e.phone,callback:function(n){e.phone=n},expression:"phone"}}),e._v(" "),t("a",{staticClass:"btn-call",class:{disabled:!e.phone.isNumberValid},attrs:{href:"javascript:;"},on:{click:e.callNow}},[t("i",{staticClass:"icon-tel"}),e._v("\n    立即呼叫\n  ")]),e._v(" "),e._m(2)],1)},staticRenderFns:[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"header"},[t("span",{staticClass:"btn-back"}),e._v("\n    隐私通话\n  ")])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"tip"},[t("i",{staticClass:"secure"}),e._v(" "),t("span",[e._v("拨打对方电话，请先确认本机号码")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ul",{staticClass:"desc"},[t("li",{staticClass:"single-desc"},[e._v("中转呼叫，对方无法查看您的真实电话")]),e._v(" "),t("li",{staticClass:"single-desc"},[e._v("使用本机号码才能拨通对方电话")]),e._v(" "),t("li",{staticClass:"single-desc"},[e._v("号码临时有效，可通过 APP拨打记录 再次联系")]),e._v(" "),t("li",{staticClass:"single-desc"},[e._v("通话不会产生额外费用，请放心拨打")])])}]}}},[185]);